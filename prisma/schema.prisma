generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_PRISMA_URL")
  directUrl = env("POSTGRES_URL_NON_POOLING")
}

model Users {
  address              String        @id
  signer_uids          SignerUUIDs[]
  lastAnalyticsTrigger DateTime?
}

model SignerUUIDs {
  id           Int     @id @default(autoincrement())
  address_user String
  signer_uid   String
  name         String
  image        String
  fid          String
  Casts        Casts[]
  user         Users   @relation(fields: [address_user], references: [address])
}

model Casts {
  id            Int          @id @default(autoincrement())
  cast_text     String
  ipfs_url      String?
  published     Boolean
  signerUidId   Int?
  date_time     DateTime
  cast_hash     String?      @unique
  likes_count   Int          @default(0)
  recasts_count Int          @default(0)
  channel_name  String?
  SignerUUIDs   SignerUUIDs? @relation(fields: [signerUidId], references: [id])
}
